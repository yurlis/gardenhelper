const webSiteUrl="http://gardenhelper.local";function testWebP(n){var a=new Image;a.onload=a.onerror=function(){n(2==a.height)},a.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function ibg(){$.each($(".ibg"),(function(n,a){$(this).find("img").length>0&&$(this).css("background-image",'url("'+$(this).find("img").attr("src")+'")')}))}function mainblock(){var n=$(window).outerHeight();$(".mainblock").css("min-height",n)}function windowLoad(n){var a=window.onload;"function"!=typeof window.onload?window.onload=n:window.onload=function(){a&&a(),n()}}function documentReady(n){var a=document.ready;"function"!=typeof document.ready?document.ready=n:document.ready=function(){a&&a(),n()}}function isLogin(){$.ajax({url:webSiteUrl+"/modules/call.php?cmd=islogin",success:function(n){data=JSON.parse(n),data.status?($(".mainblock__btn").hide(),$.ajax({url:webSiteUrl+"/top-menu.html",dataType:"html",success:function(n){$(".header__container").append(n)}})):document.location.href!=webSiteUrl+"/"&&"http://gardenhelper.local/login.php"!=document.location.href&&"http://gardenhelper.local/registration.php"!=document.location.href&&"http://gardenhelper.local/verification.php"!=document.location.href&&(document.location.href=webSiteUrl)}})}function getListPlants(n){$.ajax({url:webSiteUrl+"/modules/call.php?cmd=getplants&p="+n+"&limit="+limit,success:function(n){$(".info-block__content").html(n),$(".login-form__info-block").show(500,"linear");$("body,html").animate({scrollTop:$(".info-block__container").offset().top+50},500,(function(){}))}})}function setChoice(n,a,e,t){return $(".info-block__pagination").empty(),$(".login-form__info-block").hide(500,"linear"),$("input[name='"+e+"']").val(t),$("input[name='"+e+"id']").val(a),!1}testWebP((function(n){1==n&&document.querySelector("body").classList.add("webp")})),ibg(),$(window).resize((function(n){mainblock()})),mainblock(),$(".goto").click((function(){var n=$(this).attr("href").replace("#","");return $("body,html").animate({scrollTop:$("."+n).offset().top+0},500,(function(){})),$(".header-menu").hasClass("active")&&($(".header-menu,.header-menu__icon").removeClass("active"),$("body").removeClass("lock")),!1})),isLogin(),$(".registration-form__registration-button").click((function(n){n.preventDefault();var a=new FormData,e=$(this).parent(),t=e.find("input[name='name']").val(),i=e.find("input[name='email']").val(),o=e.find("input[name='phone']").val(),l=e.find("input[name='password']").val(),c=e.find("input[name='repassword']").val();return a.append("name",t),a.append("email",i),a.append("phone",o),a.append("password",l),a.append("repassword",c),$.ajax({url:webSiteUrl+"/modules/call.php?cmd=registration",dataType:"text",cache:!1,contentType:!1,processData:!1,data:a,type:"POST",success:function(n){data=JSON.parse(n),$(".registration-form__info-block").hide(500,"linear"),$(".info-block__content").html(data.message),$(".registration-form__info-block").show(500,"linear"),data.status&&setTimeout((function(){$(".registration-form__info-block").hide(500,"linear"),document.location.href=webSiteUrl+"/login.php"}),1500)}}),!1})),$(".login-form__login-button").click((function(n){n.preventDefault();var a=new FormData,e=$(this).parent(),t=e.find("input[name='phone']").val(),i=e.find("input[name='password']").val();return a.append("phone",t),a.append("password",i),$.ajax({url:webSiteUrl+"/modules/call.php?cmd=login",dataType:"text",cache:!1,contentType:!1,processData:!1,data:a,type:"POST",success:function(n){data=JSON.parse(n),$(".login-form__info-block").hide(500,"linear"),$(".info-block__content").html(data.message),$(".login-form__info-block").show(500,"linear"),data.status&&setTimeout((function(){$(".registration-form__info-block").hide(500,"linear"),document.location.href=webSiteUrl}),2e3)}}),!1})),$(window).ready((function(){$(".form-selectblock__select").length&&$.ajax({url:webSiteUrl+"/modules/call.php?cmd=getzones",success:function(n){if(data=JSON.parse(n),data.status){for(var a=0;a<data.zones.length;)$(".form-selectblock__select select").append('<option value="'+data.zones[a].id+'">'+data.zones[a].name+"</option>"),a++;$('.form-selectblock__select select option[value="'+data.user_zone_id+'"]').attr("selected","selected")}}})})),limit=3,$(".__plant").click((function(n){return n.preventDefault(),paginationFunc(1),!1})),$(".__seller").click((function(n){return n.preventDefault(),$.ajax({url:webSiteUrl+"/modules/call.php?cmd=getsellers",success:function(n){$(".login-form__info-block").hide(500,"linear"),$(".info-block__content").html(n),$(".login-form__info-block").show(500,"linear");$("body,html").animate({scrollTop:$(".gh-form__confirm-btn").offset().top+0},500,(function(){}))}}),!1})),$(".gh-form__confirm-btn").click((function(n){n.preventDefault();var a=new FormData,e=$(this).parent(),t=e.find("input[name='plantid']").val(),i=e.find("select").val(),o=e.find("input[name='sellerid']").val(),l=e.find("textarea[name='comment']").val(),c=e.find("input[name='check1']").val(),s=e.find("input[name='date']").val(),d=e.find("input[name='check2']").val();return a.append("plantid",t),a.append("zone",i),a.append("sellerid",o),a.append("comment",l),a.append("planted",c),a.append("date",s),a.append("follow",d),$.ajax({url:webSiteUrl+"/modules/call.php?cmd=addplant",dataType:"text",cache:!1,contentType:!1,processData:!1,data:a,type:"POST",success:function(n){""==n&&(document.location.href=webSiteUrl),data=JSON.parse(n),$(".login-form__info-block").hide(500,"linear"),$(".info-block__content").html(data.message),$(".login-form__info-block").show(500,"linear"),data.status&&setTimeout((function(){$(".registration-form__info-block").hide(500,"linear"),document.location.href=webSiteUrl}),2e3)}}),!1})),$("input[type='checkbox']").click((function(n){var a=$(this).val();$(this).val("off"==a?"on":"off")}));var numRows=10;function paginationFunc(n){var a;if(a=Math.ceil(numRows/limit),$(pagination).empty(),n>1&&(htmlCode='<div class="pagination__nav-item"><a class="nav-link" onclick="paginationFunc(1);"> |< </a></div>',$(pagination).append(htmlCode),htmlCode='<div class="pagination__nav-item"><a class="nav-link" onclick="paginationFunc('+(+n-1)+');"> <<< </a></div>',$(pagination).append(htmlCode)),numRows>5*limit)if(a-n<5)for(countPage=a-5;countPage<=a;)htmlCode='<div class="pagination__nav-item"><span class="align-middle"><a class="nav-link '+(n==countPage?"_active":"")+'" onclick="paginationFunc('+countPage+');">'+countPage+"</a></span></div>",$(pagination).append(htmlCode),countPage++;else if(n>1)for(countPage=n-1,countPageI=1;countPageI<=limit;)countPageI<=3&&(htmlCode='<div class="pagination__nav-item"><span class="align-middle"><a class="nav-link '+(n==countPage?"_active":"")+'" onclick="paginationFunc('+countPage+');">'+countPage+"</a></span></div>",$(pagination).append(htmlCode)),4==countPageI&&(htmlCode='<div class="pagination__nav-item"><span class="align-middle"><a class="nav-link">...</a></span></div>',$(pagination).append(htmlCode)),countPageI==limit&&(htmlCode='<div class="pagination__nav-item"><span class="align-middle"><a class="nav-link" onclick="paginationFunc('+a+');">'+a+"</a></span></div>",$(pagination).append(htmlCode)),countPage++,countPageI++;else for(countPage=1;countPage<=limit;)countPage<=3&&(htmlCode='<div class="pagination__nav-item"><span class="align-middle"><a class="nav-link '+(n==countPage?"_active":"")+'" onclick="paginationFunc('+countPage+');">'+countPage+"</a></span></div>",$(pagination).append(htmlCode)),4==countPage&&(htmlCode='<div class="pagination__nav-item"><span class="align-middle"><a class="nav-link">...</a></span></div>',$(pagination).append(htmlCode)),countPage==limit&&(htmlCode='<div class="pagination__nav-item"><span class="align-middle"><a class="nav-link" onclick="paginationFunc('+countPage+');">'+countPage+"</a></span></div>",$(pagination).append(htmlCode)),countPage++;else for(countPage=1;countPage<=Math.ceil(numRows/limit);)htmlCode='<div class="pagination__nav-item"><span class="align-middle"><a class="nav-link '+(n==countPage?"_active":"")+'" onclick="paginationFunc('+countPage+');">'+countPage+"</a></span></div>",$(pagination).append(htmlCode),countPage++;n<a&&(htmlCode='<div class="pagination__nav-item"><a class="nav-link" onclick="paginationFunc('+(+n+1)+');"> >>> </a></div>',$(pagination).append(htmlCode),htmlCode='<div class="pagination__nav-item"><a class="nav-link" onclick="paginationFunc('+a+');"> >| </a></div>',$(pagination).append(htmlCode)),getListPlants(n)}pagination=".info-block__pagination";